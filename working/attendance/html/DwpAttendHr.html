<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>MetaPay</title>
  
  <link rel="stylesheet" href="../dist/css/dwp.css">
  <link rel="stylesheet" href="../dist/css/common_9900.css">
  <link rel="stylesheet" href="../dist/css/jquery-ui.css">
  <link rel="stylesheet" href="../dist/font/NotoSansKR-Regular.otf">
</head>

<body>
  <!-- GNB -->
  <div id="gnb">
    <ul>
      <li><a href="./DwpAttendFm.html">[현장관리자]근태 관리 (일용직)</a></li>
      <li><a href="./DwpContractFm.html">근로 계약 입력</a></li>
      <li><a href="./DwpContractListFm.html">근로 계약 대장 조회</a></li>
      <li><a href="./DwpCwAttendFm.html">근태 관리 (계약직)</a></li>
      <li><a href="./DwpCwHelper.html">계약직 헬퍼 등록</a></li>
      <li><a href="./DwpCwHelperList.html">계약직 헬퍼 등록 대장</a></li>
      <li><a href="./DwpLeave.html">휴가 신청</a></li>
      <li><a href="./DwpLeaveList.html">휴가 신청 현황</a></li>
      <li><a href="./DwpAttendHr.html">[HR 관리자]근태 관리 (일용직)</a></li>
      <li><a href="./DwpLeaveAppr.html">휴가 승인</a></li>
    </ul>
    <button id="btnMenuClose">X</button>
  </div>
  <!-- 컨텐츠영역 : pc -->
  <div class="newContents">
    <button id="btnMenu">
      <span></span><span></span><span></span>
    </button>
    <!-- 타이틀 영역 -->
    <h2 class="subTitle">근태 관리 (일용직)</h2>
    <!--// 타이틀 영역 -->

    <div class="searchWrapper">
      <div class="selectArea">
        <div class="selectBox">
          <p class="selected">이름으로 검색</p>
          <ul>
            <li>휴대전화로 검색</li>
            <li>가나다로 검색</li>
            <li>다른걸로 검색</li>
          </ul>
        </div>
        <input type="text">
      </div>

      <div class="dateArea">
        <input type="text" id="datepicker01" class="datepicker">
        <span class="txtHipen">-</span>
        <input type="text" id="datepicker02" class="datepicker">
      </div>
      <button class="btnSearch">검색</button>
    </div>

    <div class="tableWrapper">
      <div class="tableTop">
        <p class="total">총 인원 <b>250</b>명</p>
        <button class="btnFilter"><span>N</span> 만 보기</button>
      </div>
      <div class="tableOutline">
        <table class="tableHorizen_type1">
          <colgroup>
            <col width="2%" />
            <col width="6.2%" />
            <col width="5%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5%" />
            <col width="5.4%" />
            <col width="5.4%" />
            <col width="5.4%" />
          </colgroup>
          <thead>
            <tr>
              <th scope="col"><input type="checkbox" name="" id="allCheck"></th>
              <th scope="col">신청일</th>
              <th scope="col">근로자명</th>
              <th scope="col">캠프</th>
              <th scope="col">Wave</th>
              <th scope="col">시프트 시작</th>
              <th scope="col">시프트 종료</th>
              <th scope="col">실제 출근</th>
              <th scope="col">실제 퇴근</th>
              <th scope="col">인정 출근</th>
              <th scope="col">인정 퇴근</th>
              <th scope="col">지각</th>
              <th scope="col">조퇴</th>
              <th scope="col">조출</th>
              <th scope="col">연장</th>
              <th scope="col">사유</th>
              <th scope="col">주민번호</th>
              <th scope="col">계좌번호</th>
            </tr>
          </thead>
          <tbody id="tbody">
            <tr>
              <td><input type="checkbox" name="lineCheck"></td>
              <td>2024-07-28</td>
              <td>김길동</td>
              <td>SUB-AYG1</td>
              <td>Wave1</td>
              <td>9:00</td>
              <td>18:00</td>
              <td>08:45</td>
              <td>19:00</td>
              <td>08:00</td>
              <td>18:00</td>
              <td>-</td>
              <td>- 00:30</td>
              <td>+ 00:30</td>
              <td>-</td>
              <td>-</td>
              <td>
                <div class="btnRegiArea">
                  <span class="blueTxt">Y</span> <button class="btn_regi btn_grey_s" disabled>등록</button>
                </div>
              </td>
              <td>
                <div class="btnRegiArea">
                  <span class="redTxt">N</span> <button class="btn_regi btn_grey_s">등록</button>
                </div>
              </td>
            </tr>
            <tr>
              <td><input type="checkbox" name="lineCheck"></td>
              <td>
                <div class="dateArea">
                  <input type="text" id="datepicker03" class="datepicker">
                </div>
              </td>
              <td><input type="text"></td>
              <td><input type="text" value="SUB-AYG1" disabled></td>
              <td><input type="text"></td>
              <td>
                <div class="timeArea">
                  <input type="text" placeholder="00:00" readonly class="inputTime">
                  <div class="selectTime">
                    <ul>
                      <li class="">시</li>
                      <li>1</li>
                      <li>2</li>
                      <li>3</li>
                      <li>4</li>
                      <li>5</li>
                      <li>6</li>
                      <li>7</li>
                      <li>8</li>
                      <li>9</li>
                      <li>10</li>
                      <li>11</li>
                      <li>12</li>
                      <li>13</li>
                      <li>14</li>
                      <li>15</li>
                      <li>16</li>
                      <li>17</li>
                      <li>18</li>
                      <li>19</li>
                      <li>20</li>
                      <li>21</li>
                      <li>22</li>
                      <li>23</li>
                      <li>24</li>
                    </ul>
                    <ul>
                      <li class="">분</li>
                      <li>00</li>
                      <li>05</li>
                      <li>10</li>
                      <li>15</li>
                      <li>20</li>
                      <li>25</li>
                      <li>30</li>
                      <li>35</li>
                      <li>40</li>
                      <li>45</li>
                      <li>50</li>
                      <li>55</li>
                    </ul>
                  </div>
                </div>
              </td>
              <td><input type="text" placeholder="00:00" readonly class="inputTime"></td>
              <td><input type="text" placeholder="00:00" readonly class="inputTime"></td>
              <td><input type="text" placeholder="00:00" readonly class="inputTime"></td>
              <td><input type="text" placeholder="00:00" readonly class="inputTime"></td>
              <td><input type="text" placeholder="00:00" readonly class="inputTime"></td>
              <td><input type="text" placeholder="00:00" readonly class="inputTime"></td>
              <td><input type="text" placeholder="00:00" readonly class="inputTime"></td>
              <td><input type="text" placeholder="00:00" readonly class="inputTime"></td>
              <td><input type="text" placeholder="00:00" readonly class="inputTime"></td>
              <td>
                <input type="text">
              </td>
              <td>
                <div class="btnRegiArea">
                  <span class="redTxt">N</span> <button class="btn_regi btn_grey_s" onclick="idCardPop()">등록</button>
                </div>
              </td>
              <td>
                <div class="btnRegiArea">
                  <span class="redTxt">N</span> <button class="btn_regi btn_grey_s" onclick="bankPop()">등록</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="tableBottom">
        <div class="buttonArea">
          <button class="btnDel" id="btnDel">삭제</button>
          <button class="btnAdd" onclick="addTd()">행 추가</button>
        </div>
        <div class="buttonArea">
          <button class="btnEnd btn btn_blue">마감</button>
          <button class="btnSave btn btn_blue">저장</button>
        </div>
      </div>
    </div>
  </div>
  <!--// 컨텐츠영역 : pc -->

  <!-- 팝업 : 공통 -->
  <div id="layerPop-bg"></div>
  <div id="layerPop_Container">

    <!-- 팝업 : 주민번호 등록 -->
    <div class="layerPop_wrapper" id="idCardPop"> <!-- id변경해서 쓰세요 -->
      <div class="layerPop_header">주민번호 입력</div>
      <div class="layerPop_body">
        <div class="label-group">
          <label for="">주민번호</label>
          <input type="text" placeholder="주민번호를 입력하세요.">
        </div>
      </div>
      <div class="layerPop_btn">
        <button class="btn_white" onclick="layerPopClose()">닫기</button>
        <button class="btn_blue">저장
        </button>
      </div>
    </div>
    <!--// 팝업 : 주민번호 등록 -->

    <!-- 팝업 : 계좌번호 등록 -->
    <div class="layerPop_wrapper" id="bankPop"><!-- id변경해서 쓰세요 -->
      <div class="layerPop_header">계좌번호 입력</div>
      <div class="layerPop_body">
        <div class="label-group account">
          <label for="">계좌번호</label>
          <input type="text" placeholder="계좌번호를 입력하세요.">
        </div>

        <!-- 맨아래 스크립트 참고 : tabArea 검색  -->
        <div class="tabArea">
          <a href="#n" class="tab-item on">은행</a>
          <a href="#n" class="tab-item">증권</a>
        </div>

        <div class="resultArea">
          <!-- 은행 -->
          <ul class="bank">
            <li><a href="#n"><img src="../dist/images/icon_bank/bk_kb.png" alt=""> 국민</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/bk_ibk.png" alt=""> 기업</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/bk_nh.png" alt=""> 농협</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/bk_woori.png" alt=""> 우리</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/bk_shinan.png" alt=""> 신한</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/bk_hana.png" alt=""> 하나</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/bk_exim.png" alt=""> iM뱅크(대구)</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/bk_citi.png" alt=""> 한국시티</a></li>
          </ul>

          <!-- 증권 -->
          <ul class="stock">
            <li><a href="#n"><img src="../dist/images/icon_bank/st_kyobo.png" alt=""> 교보증권</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/st_daol.png" alt=""> 다올투자증권</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/st_daishin.png" alt=""> 대신증권</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/st_meritz.png" alt=""> 메리츠증권</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/st_mirae.png" alt=""> 미래에셋증권</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/st_bookook.png" alt=""> 부국증권</a></li>
            <li><a href="#n"><img src="../dist/images/icon_bank/st_samsung.png" alt=""> 삼성증권</a></li>
          </ul>
          
          <!-- 증권 -->
        </div>
      </div>

      <div class="layerPop_btn">
        <button class="btn_white" onclick="layerPopClose()">닫기</button>
        <button class="btn_blue">저장
        </button>
      </div>
    </div>
    <!--// 팝업 : 계좌번호 등록 -->

  </div>



  <script type="text/javascript" src="../dist/js/jquery.min.js"></script>
  <script type="text/javascript" src="../dist/js/jquery-ui.min.js"></script>
  <script type="text/javascript" src="../dist/js/dwp.js"></script>
  <script type="text/javascript">
    // selecBox
    function selectBox() {
      $(".selectBox p").off('click').on('click', function(){
        $(this).parent().children("ul").stop().slideToggle('');
      });
      $(".selectBox ul li").off('click').on('click', function(){
        let text = $(this).text();
        $(this).parents(".selectBox").children("p").text(text);
        $(this).parent("ul").stop().slideUp();
      });
    }

    // 삭제
    function removeTd() {
      $("#btnDel").off('click').on("click",function(){
        $('input:checkbox[name=lineCheck]').each(function(){
          if($(this).is(':checked')){
            $(this).parents('tr').remove();
          }
        });
      });
    }

    // 팝업 : 주민번호 등록 
    function idCardPop() {
      $('#layerPop-bg').stop().fadeIn('');
      $('#layerPop_Container').stop().fadeIn('');
      $('#idCardPop.layerPop_wrapper').stop().fadeIn('');      
      $('#idCardPop.layerPop_wrapper').css('width','480px');
    }
    
    // 팝업 : 계좌번호 등록 
    function bankPop() {
      $('#layerPop-bg').stop().fadeIn('');
      $('#layerPop_Container').stop().fadeIn('');
      $('#bankPop.layerPop_wrapper').stop().fadeIn('');      
      $('#bankPop.layerPop_wrapper').css('width','480px');
    }

    // 팝업 - close 
    function layerPopClose() {
      $('#layerPop-bg').stop().fadeOut('fast');
      $('#layerPop_Container').stop().fadeOut('fast');
      $('.layerPop_wrapper').stop().fadeOut('fast');
    }
 

    
    // 행추가
    function addTd() {
      tbodyTd = `
      <tr>
        <td><input type="checkbox" name="lineCheck"></td>
        <td>
          <div class="dateArea">
            <input type="date" class="date">
            <p class="iconDate"></p>
          </div>
        </td>
        <td>
          <div class="selectBox">
            <p class="selected">이름순</p>
            <ul>
              <li>신청일순</li>
              <li>신청일순</li>
              <li>신청일순</li>
              <li>신청일순</li>
              <li>신청일순</li>
            </ul>
          </div>
        </td>
        <td><input type="text" placeholder="입력"></td>
        <td><input type="phone" placeholder="- 없이 입력"></td>
        <td>
          <div class="selectBox">
            <p class="selected">W2</p>
            <ul>
              <li>W2</li>
              <li>W2</li>
              <li>W2</li>
              <li>W2</li>
              <li>W2</li>
            </ul>
          </div>
        </td>
        <td>
          <div class="selectBox">
            <p class="selected">선택</p>
            <ul>
              <li>연차</li>
              <li>반차</li>
              <li>예비군 훈련</li>
              <li>경조</li>
              <li>기타</li>
            </ul>
          </div>
        </td>
        <td><input type="text" disabled placeholder="-"></td>
        <td><input type="text" placeholder="필수 입력"></td>
        <td>
          <div class="fileArea">
            <input type="text" class="typeFile_Text" id="typeFile_Text" placeholder="예비군훈련/경조 시 첨부" readonly>
            <input type="file" class="typeFile" id="typeFile">
            <label for="typeFile" class="iconFile"></label>
          </div>
        </td>
      </tr>
      `
      const tbody = document.getElementById("tbody");
      tbody.insertAdjacentHTML("afterbegin", tbodyTd);

      selectBox();
      removeTd();

      fileUpload();
    }
    

    // datepicker
    $( function() {
      $("#datepicker01").datepicker({
        showOn: "button",
        buttonImage: "../dist/images/iconDate.png",
        buttonImageOnly: true,
        buttonText: "Select date",
        dateFormat: "yy-mm-dd",
      });

      $("#datepicker02").datepicker({
        showOn: "button",
        buttonImage: "../dist/images/iconDate.png",
        buttonImageOnly: true,
        buttonText: "Select date",
        dateFormat: "yy-mm-dd",
      });
      
      $("#datepicker03").datepicker({
        showOn: "button",
        buttonImage: "../dist/images/iconDate.png",
        buttonImageOnly: true,
        buttonText: "Select date",
        dateFormat: "yy-mm-dd",
      });

      $("#format").on( "change", function() {
        $( "#datepicker01" ).datepicker();
      });

      // 당일날짜 가져오기
      let today = new Date();
      let today_year = today.getFullYear();
      let today_month = today.getMonth();
      let today_date = today.getDate() + 1;
      if(today_month < 11 ) {
        today_month = "0" + (today_month + 1) ;
      } 
      $('.datepicker').val( today_year + "-" + today_month + "-" + today_date);


    });


    $(document).ready(function(){
      // 전체 checkbox
      $('#allCheck').click(function(){
        $(this).is(":checked") == true 
          ? $('input:checkbox[name=lineCheck]').prop("checked", true)
          : $('input:checkbox[name=lineCheck]').prop("checked", false);
      });

      // selectBox
      selectBox();    
      removeTd();


      $(".newContents .timeArea").click(function(e){
        $(this).children('.selectTime').stop().slideDown();       
      });
      $(".newContents .timeArea ul li").click(function(){
        $(this).parent('ul').children('li').removeClass('on');
        $(this).addClass('on');
      });
      $(".newContents .timeArea ul:first-child li").click(function(){
        let hour = $(this).text();
        console.log("Hour : " + hour);
        $(this).parents('.timeArea').children(".inputTime").val(hour + " : 00");
        $(".newContents .timeArea ul:last-child li").click(function(){
          let minutes = $(this).text();
          console.log("minutes : " + minutes);
          $(this).parents('.timeArea').children(".inputTime").val(hour + " : " + minutes);
        });
      });

      $('html').click(function(e){
        if(!$(e.target).hasClass('inputTime') && !$(e.target).hasClass('on')){
          $('.selectTime').stop().slideUp();
        }
      });


      // tabArea
      let clickTabIndex;
      $(".layerPop_wrapper .layerPop_body .tabArea a").click(function(){
        $(".layerPop_wrapper .layerPop_body .tabArea a").removeClass("on");
        $(this).addClass("on");
        clickTabIndex = $(this).index();
        // resultArea
        $(".layerPop_wrapper .layerPop_body .resultArea ul").hide();
        $(".layerPop_wrapper .layerPop_body .resultArea").children('ul').eq(clickTabIndex).css("display","flex");
      });


    });

  </script>
</body>
</html>
